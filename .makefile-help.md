# Makefile Quick Reference

## Quick Start

```bash
# First time setup
make setup

# Run both servers
make run-all

# Or run individually
make serve-backend    # Django on :8000
make serve-frontend   # React on :3000
```

## Common Commands

### Installation
- `make install` - Install all dependencies
- `make install-backend` - Install Python dependencies only
- `make install-frontend` - Install Node.js dependencies only

### Formatting
- `make format` - Format all code (Python + TypeScript)
- `make format-backend` - Format Python code with black
- `make format-frontend` - Format frontend code with prettier

### Linting
- `make lint` - Lint all code
- `make lint-backend` - Lint Python code
- `make lint-frontend` - Lint TypeScript/JavaScript code

### Development
- `make serve-backend` - Start Django server (port 8000)
- `make serve-frontend` - Start React dev server (port 3000)
- `make run-all` - Run both servers simultaneously
- `make dev` - Alias for `run-all`

### Database
- `make migrate` - Apply all migrations
- `make migrate-make` - Create new migration files
- `make migrate-apply` - Apply migrations
- `make migrate-reset` - Reset database (WARNING: deletes data)
- `make init-data` - Initialize sample data
- `make superuser` - Create Django superuser

### Building
- `make build` - Build frontend for production
- `make build-frontend` - Build React app

### Testing
- `make test` - Run all tests
- `make test-backend` - Run Django tests
- `make test-frontend` - Run frontend tests

### Cleaning
- `make clean` - Clean all build artifacts
- `make clean-backend` - Clean Python cache
- `make clean-frontend` - Clean frontend build files
- `make clean-all` - Remove all dependencies (requires reinstall)

### Utilities
- `make check` - Run lint + test
- `make shell` - Open Django shell
- `make dbshell` - Open Django database shell
- `make collectstatic` - Collect static files for production
- `make info` - Show environment information
- `make help` - Show all available commands

## Examples

```bash
# Complete first-time setup
make setup

# Format code before committing
make format

# Run linting and tests
make check

# Start development
make dev

# Reset database and reinitialize
make migrate-reset

# Clean everything and start fresh
make clean-all
make setup
```

## Notes

- The Makefile uses Python 3.11 by default (change `PYTHON` variable if needed)
- Virtual environment is created automatically in `backend/venv`
- Frontend format requires prettier (install with `npm install --save-dev prettier`)
- Some commands may prompt for confirmation (like `migrate-reset`)
